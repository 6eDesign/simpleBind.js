{"version":3,"file":"simpleBind.umd.js","sources":["../src/bindTypes/const/objNameLocation.js","../src/simpleBindUtil.js","../src/state.js","../src/simpleBind.js","../src/bindTypes/simplebind.js","../src/bindTypes/simplebindclass.js","../src/bindTypes/simplebindhandler.js","../src/bindTypes/simplebindvalue.js","../src/bindTypes/simplerepeat.js","../src/bindTypes/simpleevent.js","../src/bindTypes/simplebindattrs.js","../src/bindTypes/simpledata.js","../src/bindAugmenters/filters.js"],"sourcesContent":["export const FIRST_IN_STRING = 'FIRST_IN_STRING';\r\nexport const COLON_SEPARATED_SECOND_GROUP = 'COLON_SEPARATED_SECOND_GROUP';\r\nexport const COLON_SEPARATED_THIRD_GROUP = 'COLON_SEPARATED_THIRD_GROUP';","import * as objNameLocations from './bindTypes/const/objNameLocation';\r\n\r\nvar getType = function(variable) {\r\n  var type = typeof variable;\r\n  switch(type) {\r\n    case 'object':\r\n      if(variable == null) return 'null';\r\n      return variable instanceof Array ? 'array' : type;\r\n    default:\r\n      return type;\r\n  }\r\n};\r\n\r\nexport var delay = (function(){\r\n  var timer = 0;\r\n  return function(callback, ms){\r\n    clearTimeout (timer);\r\n    timer = setTimeout(callback, ms);\r\n  };\r\n})();\r\n\r\nvar copyArrayWithoutReferences = function (arr) {\r\n  var toReturn = [];\r\n  for (var i = 0; i < arr.length; ++i) {\r\n    var type = getType(arr[i]);\r\n    switch (type) {\r\n      case 'object':\r\n        toReturn.push(extend({}, arr[i]));\r\n        break;\r\n      case 'array':\r\n        toReturn.push(copyArrayWithoutReferences(arr[i]));\r\n        break;\r\n      default:\r\n        toReturn.push(arr[i]);\r\n        break;\r\n    }\r\n  }\r\n  return toReturn;\r\n};\r\n\r\nexport var extend = function() {\r\n  for (var i = 1, len = arguments.length; i < len; ++i) {\r\n    var src = arguments[i]\r\n      , target = arguments[0];\r\n    for (var key in src) {\r\n      var isArrayPresent = getType(src[key]) === 'array';\r\n      var simpleExtend = getType(target[key]) != 'object' && getType(src[key]) != 'object' && !isArrayPresent;\r\n      if (simpleExtend) {\r\n        target[key] = src[key];\r\n      } else {\r\n        target[key] = extend(typeof target[key] == 'undefined' ? { } : target[key],src[key]);\r\n        if (isArrayPresent) {\r\n          target[key] = copyArrayWithoutReferences(src[key]);\r\n        } else {\r\n          target[key] = extend(typeof target[key] == 'undefined' ? {} : target[key], src[key]);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  return arguments.length ? arguments[0] : { };\r\n};\r\n\r\nexport var getKeys = function(obj) {\r\n  if(Object.keys) {\r\n    return Object.keys(obj);\r\n  } else {\r\n    arr = [];\r\n    for(var key in obj) {\r\n      arr.push(key);\r\n    }\r\n    return arr;\r\n  }\r\n};\r\n\r\nexport var getData = function(elem) {\r\n  var attrs, keys, data = { };\r\n  attrs = getAttrs(elem);\r\n  keys = getKeys(attrs);\r\n  for(var i=0; i < keys.length; ++i) {\r\n    if(keys[i].indexOf('data-') === 0) {\r\n      data[keys[i].substring(5,keys[i].length)] = attrs[keys[i]];\r\n    }\r\n  }\r\n  return data;\r\n};\r\n\r\nexport var getAttrs = function(elem) {\r\n  var attrs, obj = {};\r\n  attrs = elem.attributes;\r\n  for(var i=0; i < attrs.length; ++i) {\r\n    var attr = attrs.item(i);\r\n    obj[attr.nodeName] = (attr.hasOwnProperty('value')) ? attr.value : attr.nodeValue;\r\n  }\r\n  return obj;\r\n};\r\n\r\n// A great function for setting object values\r\n// via a string with dot notation:\r\n// ex) set({x:{y:{z:2}}},'y.z',3)\r\n\r\n// set = function(obj,str,val) {\r\n//   str = str.split('.');\r\n//   while(str.length > 1) {\r\n//     obj = obj[str.shift()];\r\n//   }\r\n//   obj[str.shift()] = val;\r\n// };\r\n\r\n// let's modify this function to be able to\r\n// build an object so we could have SEO friendly\r\n// binds and so that people don't have to rush\r\n// to bind their objects immediately\r\nexport var set = function(obj,str,val) {\r\n  str = str.split('.');\r\n  var finalProp = str.pop();\r\n  while(str.length) {\r\n    var key = str.shift();\r\n    obj[key] = typeof obj[key] == 'undefined' ? { } : obj[key];\r\n    obj = obj[key];\r\n  }\r\n  obj[finalProp] = val;\r\n};\r\n\r\n// Same as above but retrieves the value as a string or as an empty string\r\n// if not set:\r\nexport var get = function(obj,str) {\r\n  if(str == '$base' || str === '') return obj;\r\n  str = str.split('.');\r\n  for(var i=0; i < str.length; ++i) {\r\n    if(str[i] == '$base') {\r\n      return obj;\r\n    } else if(obj == null) {\r\n      return '';\r\n    } else if(typeof obj[str[i]] == 'undefined') {\r\n      return '';\r\n    } else {\r\n      if(obj === null) {\r\n        return '';\r\n      } else {\r\n        obj = obj[str[i]];\r\n      }\r\n    }\r\n  }\r\n  return obj;\r\n};\r\n\r\nfunction escapeRegExp(string) {\r\n  return string.replace(/[.*+?^${}()|[\\]\\\\]/g, '\\\\$&'); // $& means the whole matched string\r\n}\r\n\r\nlet replaceObjNameInBindingStrSingular = (location,oldName,newName) => str => { \r\n  switch(location) { \r\n    case objNameLocations.FIRST_IN_STRING: \r\n      str = str.replace(new RegExp(`^${escapeRegExp(oldName)}(\\.)?`), `${newName}$1`);\r\n      return str; \r\n    case objNameLocations.COLON_SEPARATED_SECOND_GROUP: \r\n      str = str.replace(new RegExp(`^([^:]+:)${escapeRegExp(oldName)}(\\\\.)?`),`$1${newName}$2`);\r\n      return str; \r\n    case objNameLocations.COLON_SEPARATED_THIRD_GROUP: \r\n      str = str.replace(new RegExp(`^([^:]+:[^:]+:)${escapeRegExp(oldName)}(\\\\.)?`),`$1${newName}$2`);\r\n      return str; \r\n  }\r\n};\r\n\r\nexport function replaceObjNameInBindingStr(str,bindTypeOpts,oldName,newName) { \r\n  return str.split(',')\r\n            .map(replaceObjNameInBindingStrSingular(bindTypeOpts.objNameLocation,oldName,newName))\r\n            .join(','); \r\n}\r\n\r\nexport var triggerEvent = function(elem,type){\r\n  if('createEvent' in document) {\r\n    var evt = document.createEvent('HTMLEvents');\r\n    evt.initEvent(type,false,true);\r\n    elem.dispatchEvent(evt);\r\n  } else {\r\n    elem.fireEvent('on' + type);\r\n  }\r\n};","export default { \r\n  bindTypes: [ ], \r\n  bindTypeOpts: { }, \r\n  boundElems: { }, \r\n  boundObjects: { }, \r\n  boundObjectsLast: { }, \r\n  ready: false,\r\n  beforeReadyBindQueue: [ ], \r\n  autoReBinding: false, \r\n  autoReBindingQueue: { }, \r\n  plugins: []\r\n};","import * as util from './simpleBindUtil';\r\nimport state from './state';\r\n\r\nvar d = document;\r\n\r\nvar init = function() { \r\n  domCollection();\r\n  state.ready = true; \r\n  if(state.beforeReadyBindQueue.length) { \r\n    for(var i=0; i < state.beforeReadyBindQueue.length; ++i) { \r\n      lib.bind(state.beforeReadyBindQueue[i].name,state.beforeReadyBindQueue[i].obj);\r\n    }\r\n  }\r\n}; \r\n\r\nvar domCollection = function(base,autoReBind=false) { \r\n  if(autoReBind) { \r\n    state.autoReBinding = true; \r\n    state.autoReBindingQueue = { }; \r\n  } \r\n  base = (typeof base == 'undefined') ? d : base;\r\n  var all = base.getElementsByTagName('*');\r\n  for(var i=0; i < all.length; ++i) {\r\n    var opts = util.getData(all[i]);\r\n    if(typeof opts['simplebindcollected'] == 'undefined') { \r\n      var foundBinding = false; \r\n      for(var j=0; j < state.bindTypes.length; ++j) { \r\n        if(typeof opts[state.bindTypes[j]] != 'undefined') { \r\n          if(!foundBinding) { \r\n            foundBinding = true;  \r\n            all[i].setAttribute('data-simplebindcollected','true'); \r\n          }\r\n          opts.bindType = state.bindTypes[j]; \r\n          state.bindTypeOpts[state.bindTypes[j]].collection(all[i],opts); \r\n        }\r\n      }\r\n    }\r\n  }\r\n  if(autoReBind) { \r\n    state.autoReBinding = false; \r\n    processAutoRebindingQueue(); \r\n  } \r\n}; \r\n\r\nvar processBoundElems = function(elems,obj,flush) { \r\n  flush = typeof flush == 'undefined' ? false : flush;\r\n  for(var i=0; i < elems.length; ++i) { \r\n    if(state.bindTypeOpts[elems[i].bindType].binding) { \r\n      state.bindTypeOpts[elems[i].bindType].binding(elems[i],obj,flush); \r\n    }\r\n  }\r\n}; \r\n\r\nvar processAutoRebindingQueue = function() { \r\n  for(var key in state.autoReBindingQueue) { \r\n    if(typeof state.boundObjects[key] != 'undefined') { \r\n      processBoundElems(state.autoReBindingQueue[key],state.boundObjects[key],true);\r\n    }\r\n  }\r\n}; \r\n\r\nvar processBindings = function(objName,obj) { \r\n  if(typeof state.boundObjectsLast[objName] == 'undefined') state.boundObjectsLast[objName] = { }; \r\n  state.boundObjects[objName] = obj; \r\n  if(typeof state.boundElems[objName] != 'undefined') { \r\n    processBoundElems(state.boundElems[objName],obj); \r\n    state.boundObjectsLast[objName] = util.extend({},obj);\r\n  }\r\n}; \r\n\r\nlet processPlugins = (lifecycleHook,...args) => {\r\n  switch(lifecycleHook) { \r\n    case 'preBind': \r\n    case 'postBind': \r\n      let [objName,obj] = args;\r\n      state.plugins.forEach(plugin => obj = typeof plugin[lifecycleHook] == 'function' \r\n        ? plugin[lifecycleHook].apply(null,args)\r\n        : obj\r\n      )\r\n      return obj;\r\n  }\r\n};\r\n\r\nd.addEventListener('DOMContentLoaded',function(){\r\n  init();\r\n}); \r\n\r\nvar lib = window.simpleBind || {}; \r\n\r\nlib.util = util;\r\n\r\nlib.getState = function() { \r\n  return state;\r\n}; \r\n\r\nlet defaultBindTypeOpts = { \r\n  binding: null\r\n}; \r\n\r\nlib.registerBindType = function(selector,opts) { \r\n  if(typeof state.bindTypeOpts[selector] == 'undefined') { \r\n    state.bindTypeOpts[selector] = { }; \r\n    state.bindTypes.push(selector); \r\n  }\r\n  util.extend(state.bindTypeOpts[selector],defaultBindTypeOpts,opts);\r\n}; \r\n\r\nlib.addToBoundElems = function(bindType,objName,configObj) { \r\n  configObj.bindType = bindType; \r\n  if(typeof state.boundElems[objName] == 'undefined') state.boundElems[objName] = []; \r\n  if(state.autoReBinding) { \r\n    if(typeof state.autoReBindingQueue[objName] == 'undefined') state.autoReBindingQueue[objName] = []; \r\n    state.autoReBindingQueue[objName].push(configObj);      \r\n  }\r\n  state.boundElems[objName].push(configObj); \r\n}; \r\n\r\nlib.recollectDOM = function(context,autoReBind) { \r\n  domCollection(context,autoReBind);\r\n}; \r\n\r\n\r\nlet pluginDefaults = { \r\n  preBind: null,\r\n  postBind: null,\r\n  name: ''\r\n}; \r\n\r\nlib.registerPlugin = (opts={}) => { \r\n  state.plugins.push(util.extend({},pluginDefaults,opts));\r\n}; \r\n\r\nlib.bind = function(objName,obj) {\r\n  if(typeof objName == 'string' && typeof obj != 'undefined') {\r\n    if(typeof state.boundElems[objName] == 'undefined') state.boundElems[objName] = [];\r\n    if(state.ready) { \r\n      obj = processPlugins('preBind',objName,obj); \r\n      processBindings(objName,obj);\r\n      obj = processPlugins('postBind',objName,obj);\r\n    } else { \r\n      state.beforeReadyBindQueue.push({name: objName, obj: obj});\r\n    }\r\n  }\r\n}; \r\n\r\nlib.extendNamespace = function(name,method) { \r\n  lib[name] = method;\r\n}; \r\n\r\nexport default lib; ","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { FIRST_IN_STRING } from './const/objNameLocation';\r\n\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  opts.simplebind = opts.simplebind.split('.');\r\n  var configObj = {\r\n    elem: elem,\r\n    objName: opts.simplebind.shift(),\r\n    objKey: opts.simplebind.join('.'),\r\n    opts: opts\r\n  };\r\n  simpleBind.addToBoundElems('simplebind',configObj.objName,configObj);\r\n};\r\n\r\nvar binding = function(config,obj,flush){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  var val = simpleBind.util.get(obj,config.objKey);\r\n  var oldVal = simpleBind.util.get(state.boundObjectsLast[config.objName],config.objKey);\r\n  if(val !== oldVal || flush) {\r\n    if(typeof config.opts['simplefilter'] != 'undefined') {\r\n      val = simpleBind.getFilteredValue(val,config.opts.simplefilter);\r\n    }\r\n    val = typeof val == 'string' ? val : JSON.stringify(val,null,2);\r\n    if(typeof config.opts['simplebindhtml'] != 'undefined' && config.opts.simplebindhtml==\"true\") {\r\n      config.elem.innerHTML = val;\r\n    } else {\r\n      if(config.elem.childNodes.length) {\r\n        config.elem.childNodes[0].nodeValue = val;\r\n      } else {\r\n        config.elem.appendChild(document.createTextNode(val));\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n// uses default objNameRegex ('data-simplebind=\"objName.objKey\"')\r\nsimpleBind.registerBindType('simplebind',{\r\n  collection, \r\n  binding,\r\n  objNameLocation: FIRST_IN_STRING\r\n});","import simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_SECOND_GROUP } from './const/objNameLocation';\r\nlet { addToBoundElems, registerBindType } = simpleBind;\r\nlet state = simpleBind.getState();\r\n\r\n/**\r\n * Takes form: data-simplebindclass='a-class-name:objName.someBool,class-name2:objName.someBool2'\r\n * (when boolean is true, class name will be applied, otherwise removed)\r\n */\r\n\r\nlet conf = { \r\n  collection(elem,opts) { \r\n    opts.simplebindclass.split(',').forEach((str) => {\r\n      let classNames = str.match(/^([^:]+):/);\r\n      let objName = str.match(/:([^\\.]+)\\./);\r\n      let objKey = str.match(/:[^\\.]+\\.(.*)$/);\r\n      if(!classNames || !objName || !objKey) return;\r\n      let configObj = { \r\n        elem: elem,\r\n        classNames: classNames[1].split(/\\s+/), \r\n        objName: objName[1],\r\n        objKey: objKey[1]\r\n      };\r\n      addToBoundElems('simplebindclass',configObj.objName,configObj);\r\n    });\r\n  },\r\n  binding(config,obj,flush) { \r\n    let val = simpleBind.util.get(obj,config.objKey)\r\n      , oldVal = simpleBind.util.get(state.boundObjectsLast[config.objName],config.objKey);\r\n    if(val != oldVal || flush) {\r\n      config.elem.classList[val == true ? 'add' : 'remove'](...config.classNames);\r\n    }\r\n  },\r\n  objNameLocation: COLON_SEPARATED_SECOND_GROUP\r\n};\r\n\r\nregisterBindType('simplebindclass',conf);","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_SECOND_GROUP } from './const/objNameLocation';\r\n\r\nstate.bindHandlers = { };\r\n\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  var bindHandlers = opts.simplebindhandler.split(',');\r\n  for(var i=0; i < bindHandlers.length; ++i) {\r\n    bindHandlers[i] = bindHandlers[i].split(':');\r\n    var configObj = {\r\n      elem: elem,\r\n      handler: bindHandlers[i].shift()\r\n    };\r\n    bindHandlers[i] = bindHandlers[i].shift().split('.');\r\n    configObj.objName = bindHandlers[i].shift();\r\n    configObj.objKey = bindHandlers[i].join('.');\r\n    simpleBind.addToBoundElems('simplebindhandler',configObj.objName,configObj);\r\n  }\r\n};\r\n\r\nvar binding = function(config,obj,flush){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  if(typeof state.bindHandlers[config.handler] != 'undefined') {\r\n    var val = simpleBind.util.get(obj,config.objKey)\r\n      , oldVal = simpleBind.util.get(state.boundObjectsLast[config.objName],config.objKey);\r\n    var change = typeof val == 'object' ? JSON.stringify(val) != JSON.stringify(oldVal) : val != oldVal;\r\n    if(change || flush) {\r\n      state.bindHandlers[config.handler](config.elem,simpleBind.util.get(obj,config.objKey),config.objName);\r\n    }\r\n  }\r\n};\r\n\r\nvar registerBindHandler = function(handlerName,func) {\r\n  if(typeof func == 'function') {\r\n    state.bindHandlers[handlerName] = func;\r\n  }\r\n};\r\n\r\n\r\nsimpleBind.registerBindType('simplebindhandler', {\r\n  collection,\r\n  binding,\r\n  objNameLocation: COLON_SEPARATED_SECOND_GROUP\r\n});\r\nsimpleBind.extendNamespace('registerBindHandler', registerBindHandler);","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { FIRST_IN_STRING } from './const/objNameLocation';\r\n\r\n// define two flags that are used to help us determine flow/bubbling and prevent indefinite recursion: \r\n//  1. eventDispatchMarker: this is applied when we programatically trigger a change event on an input\r\n//  2. changeInitiatorMarker: this is applied to bindvalue input when it invokes a change \r\nvar eventDispatchMarker = 'data-simpleeventdispatch'\r\n  , changeInitiatorMarker = 'data-simplebindvaluechanger';\r\n\r\n/**\r\n * handleInput() is an event callback to handle changes to simplebindvalue-bound inputs\r\n */\r\nvar handleInput = function() {\r\n  // check if we are simply dispatching an event from the bindingRoutine callback\r\n  if(this.getAttribute(eventDispatchMarker)) return this.removeAttribute(eventDispatchMarker);\r\n  // we are not, we need to update other items that are bound to same object.property: \r\n  var binding = this.getAttribute('data-simplebindvalue').split('.')\r\n    , objName = binding.shift();\r\n  // in case this object hasn't been set yet, for whatever reason, set it to a blank object:\r\n  if(typeof state.boundObjects[objName] == 'undefined') state.boundObjects[objName] = {};\r\n  this.setAttribute(changeInitiatorMarker,'true');\r\n  simpleBind.util.set(state.boundObjects[objName],binding.join('.'),getInputValue(this));\r\n  simpleBind.bind(objName,state.boundObjects[objName]);\r\n  if(objName.indexOf('__repeat') > -1) {\r\n    var originalObjName = state.repeatDictionary[objName.split('-').shift()];\r\n    simpleBind.bind(originalObjName,state.boundObjects[originalObjName]);\r\n  }\r\n};\r\n\r\nvar rateLimitInput = function() {\r\n  var elem = this;\r\n  simpleBind.util.delay(function(){\r\n    handleInput.call(elem);\r\n  },50)\r\n};\r\n\r\nvar getInputType = function(elem) {\r\n  var type, tagName = elem.tagName.toLowerCase();\r\n  switch(tagName) {\r\n    case 'input':\r\n      type = elem.getAttribute('type');\r\n      return type;\r\n    default:\r\n      return tagName;\r\n  }\r\n};\r\n\r\nvar checkIfInputValueChanged = function(input,currVal) {\r\n  var type = getInputType(input);\r\n  // for checkboxes and radio inputs, it is necessary to account for \r\n  // string vs boolean comparisons since the value attribute on an \r\n  // input is always a string: \r\n  switch(type) {\r\n    case 'checkbox':\r\n      return String(input.checked) != String(currVal);\r\n      return false;\r\n    case 'radio':\r\n      var radioVal = getInputValue(input);\r\n      return (input.checked && radioVal != String(currVal)) || (!input.checked && radioVal == String(currVal));\r\n    default:\r\n      return currVal != getInputValue(input);\r\n  }\r\n};\r\n\r\nvar getInputValue = function(elem) {\r\n  var type = getInputType(elem);\r\n  switch(type) {\r\n    case 'checkbox':\r\n      return elem.checked;\r\n    default:\r\n      return elem.value;\r\n  }\r\n};\r\n\r\nvar attachAppropriateEventHandlers = function(elem,inputType) {\r\n  switch(inputType) {\r\n    case 'text':\r\n    case 'tel':\r\n    case 'password':\r\n    case 'textarea':\r\n    case 'number': \r\n    case 'email': \r\n    case 'zip':\r\n    case 'time':\r\n      elem.addEventListener('keyup',rateLimitInput);\r\n    default:\r\n      elem.addEventListener('change',handleInput);\r\n      break;\r\n  }\r\n};\r\n\r\nvar setValue = function(config,val) {\r\n  switch(config.inputType) {\r\n    case 'select':\r\n      var opts = config.elem.getElementsByTagName('option');\r\n      var selIndex = 0;\r\n      for(var i=0; i < opts.length; ++i) {\r\n        if(opts[i].value == val) {\r\n          selIndex = i;\r\n          break;\r\n        }\r\n      }\r\n      config.elem.selectedIndex = selIndex;\r\n      break;\r\n    case 'radio':\r\n      config.elem.checked = String(val) == config.elem.value;\r\n      break;\r\n    case 'checkbox':\r\n      config.elem.checked = (val === true || val == 'true');\r\n      break;\r\n    case 'textarea':\r\n      if(config.elem.innerHTML != val) {\r\n        config.elem.innerHTML = val;\r\n      }\r\n      break;\r\n    case 'text':\r\n    default:\r\n      if(val != config.elem.value || flush) {\r\n        config.elem.value = val;\r\n      }\r\n      break;\r\n  }\r\n};\r\n\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  opts.simplebindvalue = opts.simplebindvalue.split('.');\r\n  var configObj = {\r\n    elem: elem,\r\n    objName: opts.simplebindvalue.shift(),\r\n    objKey: opts.simplebindvalue.join('.'),\r\n    inputType: getInputType(elem),\r\n    initiatedChange: false\r\n  };\r\n  attachAppropriateEventHandlers(elem,configObj.inputType);\r\n  simpleBind.addToBoundElems('simplebindvalue',configObj.objName,configObj);\r\n};\r\n\r\nvar binding = function(config,obj,flush){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  var val = simpleBind.util.get(obj,config.objKey);\r\n  if(checkIfInputValueChanged(config.elem,val)) {\r\n    // check if this is the element that invoked the change: \r\n    if(config.elem.getAttribute(changeInitiatorMarker)) {\r\n      config.elem.removeAttribute(changeInitiatorMarker);\r\n    } else {\r\n      // it wasn't, so we need to trigger a change event:\r\n      setValue(config,val);\r\n      config.elem.setAttribute(eventDispatchMarker,'true');\r\n      simpleBind.util.triggerEvent(config.elem,'change');\r\n    }\r\n  } else {\r\n    if(config.elem.getAttribute(changeInitiatorMarker)) {\r\n      config.elem.removeAttribute(changeInitiatorMarker);\r\n    }\r\n  }\r\n};\r\n\r\n// uses default objNameRegex\r\n\r\nsimpleBind.registerBindType('simplebindvalue',{\r\n  collection,\r\n  binding,\r\n  objNameLocation: FIRST_IN_STRING\r\n});","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_SECOND_GROUP } from './const/objNameLocation';\r\n\r\nstate.repeatCount = 0;\r\nstate.repeatDictionary = { };\r\n\r\nvar getNewBindingName = function(config,count) {\r\n  return '__repeat' + config.repeatIndex + '-' + config.innerObjName + count;\r\n};\r\n\r\n/**\r\n * rewriteBindings() takes a list of elements and rewrites any simplebind binding\r\n * properties from a specified original object name to a specified new object name\r\n *\r\n * @param    {Array}     elems              Nodelist of elements to be processed\r\n * @param    {String}    originalObjName    Original objName to replace\r\n * @param    {String}    newObjName         New objName to replace original\r\n */\r\nvar rewriteBindings = function(elems,originalObjName,newObjName) {\r\n  for(var i=0; i < elems.length; ++i) {\r\n    for(var j=0; j < state.bindTypes.length; ++j) {\r\n      var attr = 'data-' + state.bindTypes[j]\r\n        , binding = elems[i].getAttribute(attr);\r\n      if(binding) {\r\n        var newBindingVal = simpleBind.util.replaceObjNameInBindingStr(binding,state.bindTypeOpts[state.bindTypes[j]],originalObjName,newObjName);\r\n        if(newBindingVal != binding) {\r\n          elems[i].setAttribute(attr,newBindingVal);\r\n          elems[i].removeAttribute('data-simplebindcollected');\r\n        } else {\r\n          // If we have made it this far then the element had a binding string on it but it was\r\n          // not a member of the array that was bound.  nonetheless, it needs to be recollected\r\n          // and rebound\r\n          elems[i].removeAttribute('data-simplebindcollected');\r\n        }\r\n      }\r\n    }\r\n  }\r\n};\r\n\r\n/**\r\n * scaleRepeat takes a repeat block and scales the # of repeated elements up or down:\r\n *\r\n * @param    {Object}    config    simpleRepeat config object (stored in state.boundElems)\r\n * @param    {Number}    num       # of desired repeat elements\r\n */\r\nvar scaleRepeat = function(config,num) {\r\n  if(config.repeatedElems.length == num) return;\r\n  var delta;\r\n  if(config.repeatedElems.length < num) {\r\n    // need to add elems\r\n    delta = num - config.repeatedElems.length;\r\n    var frag = document.createDocumentFragment();\r\n    for(var i=0; i < delta; ++i) {\r\n      var newNode = config.repeatTemplate.cloneNode(true)\r\n        , innards = newNode.getElementsByTagName('*')\r\n        , origBind = getNewBindingName(config,0)\r\n        , newBind = getNewBindingName(config,config.repeatedElems.length);\r\n      // rebind the base-level node: \r\n      rewriteBindings([newNode],origBind,newBind);\r\n      // & then the children: \r\n      rewriteBindings(innards,origBind,newBind);\r\n      config.repeatedElems.push(newNode);\r\n      frag.appendChild(newNode);\r\n    }\r\n    config.elem.appendChild(frag);\r\n    simpleBind.recollectDOM(config.elem,true);\r\n  } else {\r\n    // need to remove elems\r\n    delta = config.repeatedElems.length - num;\r\n    for(var i=0; i < delta; ++i) {\r\n      var removed = config.repeatedElems.pop();\r\n      var objName  = getNewBindingName(config,config.repeatedElems.length);\r\n      removed.parentNode.removeChild(removed);\r\n      if(typeof state.boundElems[objName] != 'undefined') delete state.boundElems[objName];\r\n      if(typeof state.boundObjects[objName] != 'undefined') delete state.boundObjects[objName];\r\n      if(typeof state.boundObjectsLast[objName] != 'undefined') delete state.boundObjectsLast[objName];\r\n    }\r\n  }\r\n};\r\n\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  opts.simplerepeat = opts.simplerepeat.split(':');\r\n  var objNameAndKey = opts.simplerepeat.pop().split('.');\r\n  var configObj = {\r\n    elem: elem,\r\n    objName: objNameAndKey.shift(),\r\n    objKey: objNameAndKey.join('.'),\r\n    innerObjName: opts.simplerepeat.shift(),\r\n    repeatedElems: [ ],\r\n    repeatIndex: state.repeatCount\r\n  };\r\n  var innerNodes = elem.getElementsByTagName('*');\r\n  rewriteBindings(innerNodes,configObj.innerObjName,getNewBindingName(configObj,0));\r\n  configObj.repeatTemplate = innerNodes[0].parentNode.removeChild(innerNodes[0]);\r\n  state.repeatDictionary['__repeat' + configObj.repeatIndex] = configObj.objName;\r\n  ++state.repeatCount;\r\n  simpleBind.addToBoundElems('simplerepeat',configObj.objName,configObj);\r\n};\r\n\r\nvar binding = function(config,obj,flush){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  var arrToBind = simpleBind.util.get(obj,config.objKey) || [];\r\n  if(typeof arrToBind['length'] != 'undefined') {\r\n    scaleRepeat(config,arrToBind.length);\r\n    for(var i=0; i < arrToBind.length; ++i) {\r\n      simpleBind.bind(getNewBindingName(config,i),arrToBind[i]);\r\n    }\r\n  }\r\n};\r\n\r\nsimpleBind.registerBindType('simplerepeat', {\r\n  collection,\r\n  binding,\r\n  objNameLocation: COLON_SEPARATED_SECOND_GROUP\r\n});\r\nsimpleBind.extendNamespace('rewriteBindings',rewriteBindings);","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_THIRD_GROUP } from './const/objNameLocation';\r\n\r\n/*\r\n\r\n  Events take the form: 'eventName:eventHandlerName:optionalObjName.key.key'\r\n    ex: 'click:myClickHandler:someObj.key.key2'\r\n    or\r\n    ex: 'click:myClickHandler'     // omitting the object &\r\n                                      key specifier if not needed\r\n\r\n  In above examples, 'myClickHandler' must be registered by calling:\r\n    ex: simpleBind.registerEvent('myClickHandler',function(event,value){});\r\n    or\r\n    ex: simpleBind.registerEvent('myClickHandler',function(event){});\r\n  respectively.\r\n\r\n  Multiple events can be specified as comma-separated values within\r\n  the data-simpleevent parameter.\r\n    ex: data-simpleevent=\"click:someEventHandler,hover:someOtherEventHandler\"\r\n\r\n  Whenever an event handler is called it will supply 'this' context to the\r\n  element which emitted the event. (this == element)\r\n\r\n*/\r\n\r\nstate.eventHandlers = { };\r\n\r\nvar addListener = function(elem,eventName,eventHandler,includeObjNameAndKey,objName,objKey) {\r\n  elem.addEventListener(eventName,function(evt){\r\n    if(typeof state.eventHandlers[eventHandler] != 'undefined') {\r\n      if(includeObjNameAndKey) {\r\n        if(typeof state.boundObjects[objName] != 'undefined') {\r\n          state.eventHandlers[eventHandler].call(this,evt, simpleBind.util.get(state.boundObjects[objName],objKey));\r\n          return;\r\n        }\r\n      }\r\n      // still call the event handler even if it obj is undefined\r\n      return state.eventHandlers[eventHandler].call(this,evt,undefined);\r\n    }\r\n  });\r\n};\r\n\r\nvar collection = function(elem,opts) {\r\n  var events = opts.simpleevent.split(',');\r\n  for(var i=0; i < events.length; ++i) {\r\n    var eventArr = events[i].split(':')\r\n      , eventName = eventArr.shift()\r\n      , eventHandler = eventArr.shift();\r\n    var objNameAndKey = eventArr.length ? eventArr.shift().split('.') : false;\r\n    if(objNameAndKey) {\r\n      var objName = objNameAndKey.shift()\r\n        , objKey = objNameAndKey.join('.');\r\n        addListener(elem,eventName,eventHandler,objNameAndKey,objName,objKey);\r\n    } else {\r\n      addListener(elem,eventName,eventHandler,objNameAndKey);\r\n    }\r\n  }\r\n};\r\n\r\nvar binding = null;\r\n\r\nvar registerEvent = function(eventName,func) {\r\n  state.eventHandlers[eventName] = func;\r\n};\r\n\r\nsimpleBind.registerBindType('simpleevent',{\r\n  collection,\r\n  binding,\r\n  objNameLocation: COLON_SEPARATED_THIRD_GROUP\r\n});\r\nsimpleBind.extendNamespace('registerEvent', registerEvent);","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_SECOND_GROUP } from './const/objNameLocation';\r\n\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  var boundAttrs = opts.simplebindattrs.split(',');\r\n  for(var i=0; i < boundAttrs.length; ++i) {\r\n    boundAttrs[i] =  boundAttrs[i].split(':');\r\n    var configObj = {\r\n      elem: elem,\r\n      attr: boundAttrs[i].shift()\r\n    };\r\n    boundAttrs[i] = boundAttrs[i].shift().split('.');\r\n    configObj.objName = boundAttrs[i].shift();\r\n    configObj.objKey = boundAttrs[i].join('.');\r\n    simpleBind.addToBoundElems('simplebindattrs',configObj.objName,configObj);\r\n  }\r\n};\r\n\r\nvar binding = function(config,obj,flush){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  var val = simpleBind.util.get(obj,config.objKey)\r\n    , oldVal = simpleBind.util.get(state.boundObjectsLast[config.objName],config.objKey);\r\n  if(val != oldVal || flush) {\r\n    config.elem.setAttribute(config.attr,val);\r\n  }\r\n};\r\n\r\nsimpleBind.registerBindType('simplebindattrs',{\r\n  collection,\r\n  binding,\r\n  objNameLocation: COLON_SEPARATED_SECOND_GROUP\r\n});","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\nimport { COLON_SEPARATED_SECOND_GROUP } from './const/objNameLocation';\r\n\r\n// takes form: data-simpledata=\"thisProp:objName.objKey,otherProp:objName.objKey\"\r\nvar collection = function(elem,opts){\r\n  // collection routine, the function that defines the object stored in boundElems\r\n  var dataProps = opts.simpledata.split(',');\r\n  for(var i=0; i < dataProps.length; ++i) {\r\n    var arr = dataProps[i].split(':')\r\n      , prop = arr.shift();\r\n    arr = arr.shift().split('.');\r\n    var configObj = {\r\n      elem: elem,\r\n      objName: arr.shift(),\r\n      objKey: arr.join('.'),\r\n      prop: prop\r\n    }\r\n    simpleBind.addToBoundElems('simpledata',configObj.objName,configObj);\r\n  }\r\n};\r\n\r\nvar binding = function(config,obj){\r\n  // binding routine, the function that determines how binding is done for this bind type\r\n  var prop = 'data-' + config.prop.replace(/\\W+/g, '-').replace(/([a-z\\d])([A-Z])/g, '$1-$2');\r\n  config.elem.setAttribute(prop, simpleBind.util.get(obj,config.objKey));\r\n};\r\n\r\nsimpleBind.registerBindType('simpledata',{\r\n  collection,\r\n  binding,\r\n  objNameLocation: COLON_SEPARATED_SECOND_GROUP\r\n});","import state from '../state';\r\nimport simpleBind from '../simpleBind';\r\n\r\nstate.filters = { };\r\n\r\nvar getFilteredValue = function(val,filterStr) {\r\n  filterStr = filterStr.split(',');\r\n  for(var i=0; i < filterStr.length; ++i) {\r\n    if(typeof state.filters[filterStr[i]] != 'undefined') {\r\n      val = state.filters[filterStr[i]](val)\r\n    }\r\n  }\r\n  return val;\r\n};\r\n\r\nvar registerFilter = function(filterName,fn) {\r\n  if(typeof fn == 'function') {\r\n    state.filters[filterName] = fn;\r\n  }\r\n};\r\n\r\nsimpleBind.extendNamespace('getFilteredValue',getFilteredValue);\r\nsimpleBind.extendNamespace('registerFilter',registerFilter);"],"names":["const","arguments","let","objNameLocations.FIRST_IN_STRING","objNameLocations.COLON_SEPARATED_SECOND_GROUP","objNameLocations.COLON_SEPARATED_THIRD_GROUP","util.getData","util.extend","simpleBind","state","collection","binding"],"mappings":"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"}
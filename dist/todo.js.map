{"version":3,"file":"todo.js","sources":["../src/demo/todo.js"],"sourcesContent":["var todoObj = { \r\n\tnewItem: {\r\n\t\ttext: '', \r\n\t\tpriority: 'low'\r\n\t}, \r\n\ttasks: [ \r\n\t\t{ \r\n\t\t\tid: new Date().getTime(),\r\n\t\t\tdescription: 'use rollup to build simplebind.js', \r\n\t\t\tcompleted: true, \r\n\t\t\tpriority: 'high'\r\n\t\t}, { \r\n\t\t\tid: new Date().getTime() + 1,\r\n\t\t\tdescription: 'make it easier to create new simplebind bind types', \r\n\t\t\tcompleted: true, \r\n\t\t\tpriority: 'high'\r\n\t\t}, { \r\n\t\t\tid: new Date().getTime() + 2,\r\n\t\t\tdescription: 'use some es6 via buble', \r\n\t\t\tcompleted: true, \r\n\t\t\tpriority: 'high'\r\n\t\t}, { \r\n\t\t\tid: new Date().getTime() + 3,\r\n\t\t\tdescription: 'make simpleBind smaller with tree shaking', \r\n\t\t\tcompleted: true, \r\n\t\t\tpriority: 'high'\r\n\t\t}\r\n\t]\r\n}; \r\n\r\nsimpleBind.registerEvent('addNewItem',function(evt,newItem){\r\n\tif(newItem.text) { \r\n\t\ttodoObj.tasks.push({\r\n\t\t\tid: new Date().getTime(),\r\n\t\t\tcompleted: false,\r\n\t\t\tpriority: newItem.priority,\r\n\t\t\tdescription: newItem.text\r\n\t\t}); \r\n\t\ttodoObj.newItem.text = '';\r\n\t\tsimpleBind.bind('todo',todoObj);\r\n\t}\r\n\tevt.preventDefault();\r\n}); \r\n\r\nvar taskIs = function(key,val) { return function(task) { return task[key] === val; }};\r\nvar taskIsNot = function(key,val) { return function(task) { console.log(`${task[key]} vs ${val}`); return task[key] !== val; }};\r\n\r\nsimpleBind.registerEvent('removeItem',function(evt,todoID){\r\n\ttodoObj.tasks = todoObj.tasks.filter(taskIsNot('id',todoID));\r\n\tsimpleBind.bind('todo',todoObj);\r\n});\r\n\r\nsimpleBind.registerEvent('removeCompleted',function(evt){\r\n\tvar numRemoved = 0; \r\n\tfor(var len = todoObj.tasks.length, i=0; i < len; ++i) { \r\n\t\tif(todoObj.tasks[i-numRemoved].completed) { \r\n\t\t\ttodoObj.tasks.splice(i-numRemoved,1);\r\n\t\t\t++numRemoved;\r\n\t\t}\r\n\t}\r\n\tif(numRemoved) simpleBind.bind('todo',todoObj);\r\n}); \r\n\r\nsimpleBind.registerBindHandler('taskCompletedHandler',function(elem,completed){\r\n\telem.className = completed ? 'complete' : ''; \r\n}); \r\n\r\nvar todo = (function(w,d,pub){\r\n\tvar init = function(){ \r\n\t\tsimpleBind.bind('todo',todoObj); \r\n\t};\r\n\td.addEventListener('DOMContentLoaded',init); \r\n\treturn pub; \r\n})(window,document,{}); "],"names":[],"mappings":"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"}
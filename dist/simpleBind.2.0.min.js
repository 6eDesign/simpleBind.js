var simpleBind=function(e){return e}(simpleBind||{});simpleBind.util=function(e,t){var n=function(e){var t=typeof e;switch(t){case"object":return e instanceof Array?"array":t;default:return t}},i=function(e){for(var i=1,r=e.length;i<r;++i){var a=e[i],d=e[0];for(var l in a){var o="object"!=n(d[l])&&"object"!=n(a[l]);o?d[l]=a[l]:d[l]=t.extend("undefined"==typeof d[l]?{}:d[l],a[l])}}return e.length?e[0]:{}};t.delay=function(){var e=0;return function(t,n){clearTimeout(e),e=setTimeout(t,n)}}(),t.extend=function(){return i(arguments)},t.getKeys=function(e){if(Object.keys)return Object.keys(e);arr=[];for(var t in e)arr.push(t);return arr},t.getData=function(e){var n,i,r={};n=t.getAttrs(e),i=t.getKeys(n);for(var a=0;a<i.length;++a)0===i[a].indexOf("data-")&&(r[i[a].substring(5,i[a].length)]=n[i[a]]);return r},t.getAttrs=function(e){var t,n={};t=e.attributes;for(var i=0;i<t.length;++i){var r=t.item(i);n[r.nodeName]=r.hasOwnProperty("value")?r.value:r.nodeValue}return n},t.set=function(e,t,n){t=t.split(".");for(var i=t.pop();t.length;){var r=t.shift();e[r]="undefined"==typeof e[r]?{}:e[r],e=e[r]}e[i]=n},t.get=function(e,t){if("$base"==t||""===t)return e;t=t.split(".");for(var n=0;n<t.length;++n){if("$base"==t[n])return e;if(null==e)return"";if("undefined"==typeof e[t[n]])return"";if(null===e)return"";e=e[t[n]]}return e};var r=new RegExp(/^[^\.]*/),a=function(e,t,n){return e==t?e=n:0==e.indexOf(t+".")&&(e=e.replace(r,n)),e};return t.replaceObjNameInBindingStr=function(e,t,n,i){if(e.indexOf(":")>-1)switch(t){case"simplerepeat":e=e.split(":"),e[1]=a(e[1],n,i),e=e.join(":");break;case"simpleevent":e=e.split(":"),e.length>=3&&(e[2]=a(e[2],n,i)),e=e.join(":");break;case"simplebindhandler":case"simpledata":case"simplebindattrs":default:e=e.split(",");for(var r=0;r<e.length;++r)e[r]=e[r].split(":"),e[r].length>1&&(e[r][1]=a(e[r][1],n,i)),e[r]=e[r].join(":");e=e.join(",")}else e=a(e,n,i);return e},t.triggerEvent=function(t,n){if("createEvent"in e){var i=e.createEvent("HTMLEvents");i.initEvent(n,!1,!0),t.dispatchEvent(i)}else t.fireEvent("on"+n)},t}(document,{}),simpleBind=function(e,t,n,i){var r={bindTypes:[],bindTypeOpts:{},boundElems:{},boundObjects:{},boundObjectsLast:{},ready:!1,beforeReadyBindQueue:[],autoReBinding:!1,autoReBindingQueue:{}},a=function(){if(d(),r.ready=!0,r.beforeReadyBindQueue.length)for(var e=0;e<r.beforeReadyBindQueue.length;++e)i.bind(r.beforeReadyBindQueue[e].name,r.beforeReadyBindQueue[e].obj)},d=function(e,i){i="undefined"!=typeof i&&i,i&&(r.autoReBinding=!0,r.autoReBindingQueue={}),e="undefined"==typeof e?t:e;for(var a=e.getElementsByTagName("*"),d=0;d<a.length;++d){var l=n.getData(a[d]);if("undefined"==typeof l.simplebindcollected)for(var s=!1,u=0;u<r.bindTypes.length;++u)"undefined"!=typeof l[r.bindTypes[u]]&&(s||(s=!0,a[d].setAttribute("data-simplebindcollected","true")),l.bindType=r.bindTypes[u],r.bindTypeOpts[r.bindTypes[u]].collection(a[d],l))}i&&(r.autoReBinding=!1,o())},l=function(e,t,n){n="undefined"!=typeof n&&n;for(var i=0;i<e.length;++i)r.bindTypeOpts[e[i].bindType].binding&&r.bindTypeOpts[e[i].bindType].binding(e[i],t,n)},o=function(){for(var e in r.autoReBindingQueue)"undefined"!=typeof r.boundObjects[e]&&l(r.autoReBindingQueue[e],r.boundObjects[e],!0)},s=function(e,t){"undefined"==typeof r.boundObjectsLast[e]&&(r.boundObjectsLast[e]={}),r.boundObjects[e]=t,"undefined"!=typeof r.boundElems[e]&&(l(r.boundElems[e],t),r.boundObjectsLast[e]=n.extend({},t))};return t.addEventListener("DOMContentLoaded",function(){a()}),i.getState=function(){return r},i.registerBindType=function(e,t,n){"undefined"==typeof r.bindTypeOpts[e]&&(r.bindTypeOpts[e]={},r.bindTypes.push(e)),r.bindTypeOpts[e].collection=t,r.bindTypeOpts[e].binding=n},i.addToBoundElems=function(e,t,n){n.bindType=e,"undefined"==typeof r.boundElems[t]&&(r.boundElems[t]=[]),r.autoReBinding&&("undefined"==typeof r.autoReBindingQueue[t]&&(r.autoReBindingQueue[t]=[]),r.autoReBindingQueue[t].push(n)),r.boundElems[t].push(n)},i.recollectDOM=function(e,t){d(e,t)},i.bind=function(e,t){"string"==typeof e&&"object"==typeof t&&("undefined"==typeof r.boundElems[e]&&(r.boundElems[e]=[]),r.ready?s(e,t):r.beforeReadyBindQueue.push({name:e,obj:t}))},i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=i.getState(),a=function(e,t){t.simplebind=t.simplebind.split(".");var n={elem:e,objName:t.simplebind.shift(),objKey:t.simplebind.join("."),opts:t};i.addToBoundElems("simplebind",n.objName,n)},d=function(e,a,d){var l=n.get(a,e.objKey),o=n.get(r.boundObjectsLast[e.objName],e.objKey);(l!==o||d)&&("undefined"!=typeof e.opts.simplefilter&&(l=i.getFilteredValue(l,e.opts.simplefilter)),l="string"==typeof l?l:JSON.stringify(l,null,2),"undefined"!=typeof e.opts.simplebindhtml&&"true"==e.opts.simplebindhtml?e.elem.innerHTML=l:e.elem.childNodes.length?e.elem.childNodes[0].nodeValue=l:e.elem.appendChild(t.createTextNode(l)))};return i.registerBindType("simplebind",a,d),i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){i.getState();console.log("i'm on your page");var r=function(e,t){t.simpleeditable=t.simpleeditable.split(".");var n={elem:e,objName:t.simpleeditable.shift(),objKey:t.simpleeditable.join("."),opts:t};i.addToBoundElems("simpleeditable",n.objName,n)},a=function(e,t,i){var r=n.get(t,e.objKey),a=e.elem.innerHTML;r!=a&&(e.elem.innerHTML=r)};return i.registerBindType("simpleeditable",r,a),i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=i.getState();r.bindHandlers={};var a=function(e,t){for(var n=t.simplebindhandler.split(","),r=0;r<n.length;++r){n[r]=n[r].split(":");var a={elem:e,handler:n[r].shift()};n[r]=n[r].shift().split("."),a.objName=n[r].shift(),a.objKey=n[r].join("."),i.addToBoundElems("simplebindhandler",a.objName,a)}},d=function(e,t,i){if("undefined"!=typeof r.bindHandlers[e.handler]){var a=n.get(t,e.objKey),d=n.get(r.boundObjectsLast[e.objName],e.objKey),l="object"==typeof a?JSON.stringify(a)!=JSON.stringify(d):a!=d;(l||i)&&r.bindHandlers[e.handler](e.elem,n.get(t,e.objKey),e.objName)}};return i.registerBindType("simplebindhandler",a,d),i.registerBindHandler=function(e,t){"function"==typeof t&&(r.bindHandlers[e]=t)},i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=i.getState(),a="data-simpleeventdispatch",d="data-simplebindvaluechanger",l=function(){if(this.getAttribute(a))this.removeAttribute(a);else{var e=this.getAttribute("data-simplebindvalue").split("."),t=e.shift();if("undefined"==typeof r.boundObjects[t]&&(r.boundObjects[t]={}),n.set(r.boundObjects[t],e.join("."),p(this)),i.bind(t,r.boundObjects[t]),this.setAttribute(d,"true"),t.indexOf("__repeat")>-1){var l=r.repeatDictionary[t.split("-").shift()];i.bind(l,r.boundObjects[l])}}},o=function(){var e=this;n.delay(function(){l.call(e)},50)},s=function(e){var t,n=e.tagName.toLowerCase();switch(n){case"input":return t=e.getAttribute("type");default:return n}},u=function(e,t){var n=s(e);switch(n){case"checkbox":return String(e.checked)!=String(t);case"range":return String(e.getAttribute("data-range-value-actual"))!=String(t);case"radio":var i=p(e);return e.checked&&i!=String(t)||!e.checked&&i==String(t);default:return t!=p(e)}},p=function(e){var t=s(e);switch(t){case"checkbox":return e.checked;default:return e.value}},m=function(e,t){switch(t){case"range":e.addEventListener("input",o),e.addEventListener("change",l);break;case"text":case"password":case"textarea":case"zip":e.addEventListener("keyup",o);default:e.addEventListener("change",l)}},f=function(e,t){switch(e.inputType){case"select":for(var n=e.elem.getElementsByTagName("option"),i=0,r=0;r<n.length;++r)if(n[r].value==t){i=r;break}e.elem.selectedIndex=i;break;case"range":e.elem.setAttribute("data-range-value-actual",t),e.elem.min&&parseFloat(t)<parseFloat(e.elem.min)?e.elem.value=e.elem.min:e.elem.max&&parseFloat(t)>parseFloat(e.elem.max)?e.elem.value=e.elem.max:e.elem.value=t;case"radio":e.elem.checked=String(t)==e.elem.value;break;case"checkbox":e.elem.checked=t===!0||"true"==t;break;case"textarea":e.elem.innerHTML!=t&&(e.elem.innerHTML=t);break;case"text":default:(t!=e.elem.value||flush)&&(e.elem.value=t)}},b=function(e,t){t.simplebindvalue=t.simplebindvalue.split(".");var n={elem:e,objName:t.simplebindvalue.shift(),objKey:t.simplebindvalue.join("."),inputType:s(e),initiatedChange:!1};m(e,n.inputType),i.addToBoundElems("simplebindvalue",n.objName,n)},c=function(e,t,i){var r=n.get(t,e.objKey);u(e.elem,r)?e.elem.getAttribute(d)?e.elem.removeAttribute(d):(f(e,r),e.elem.setAttribute(a,"true"),n.triggerEvent(e.elem,"change")):e.elem.getAttribute(d)&&e.elem.removeAttribute(d)};return i.registerBindType("simplebindvalue",b,c),i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=i.getState();r.repeatCount=0,r.repeatDictionary={};var a=function(e,t){return"__repeat"+e.repeatIndex+"-"+e.innerObjName+t},d=function(e,t,i){for(var a=0;a<e.length;++a)for(var d=0;d<r.bindTypes.length;++d){var l="data-"+r.bindTypes[d],o=e[a].getAttribute(l);if(o){var s=n.replaceObjNameInBindingStr(o,r.bindTypes[d],t,i);s!=o?(e[a].setAttribute(l,s),e[a].removeAttribute("data-simplebindcollected")):e[a].removeAttribute("data-simplebindcollected")}}},l=function(e,n){if(e.repeatedElems.length!=n){var l;if(e.repeatedElems.length<n){l=n-e.repeatedElems.length;for(var o=t.createDocumentFragment(),s=0;s<l;++s){var u=e.repeatTemplate.cloneNode(!0),p=u.getElementsByTagName("*"),m=a(e,0),f=a(e,e.repeatedElems.length);d([u],m,f),d(p,m,f),e.repeatedElems.push(u),o.appendChild(u)}e.elem.appendChild(o),i.recollectDOM(e.elem,!0)}else{l=e.repeatedElems.length-n;for(var s=0;s<l;++s){var b=e.repeatedElems.pop(),c=a(e,e.repeatedElems.length);b.parentNode.removeChild(b),"undefined"!=typeof r.boundElems[c]&&delete r.boundElems[c],"undefined"!=typeof r.boundObjects[c]&&delete r.boundObjects[c],"undefined"!=typeof r.boundObjectsLast[c]&&delete r.boundObjectsLast[c]}}}},o=function(e,t){t.simplerepeat=t.simplerepeat.split(":");var n=t.simplerepeat.pop().split("."),l={elem:e,objName:n.shift(),objKey:n.join("."),innerObjName:t.simplerepeat.shift(),repeatedElems:[],repeatIndex:r.repeatCount},o=e.getElementsByTagName("*");d(o,l.innerObjName,a(l,0)),l.repeatTemplate=o[0].parentNode.removeChild(o[0]),r.repeatDictionary["__repeat"+l.repeatIndex]=l.objName,++r.repeatCount,i.addToBoundElems("simplerepeat",l.objName,l)},s=function(e,t,r){var d=n.get(t,e.objKey)||[];if("undefined"!=typeof d.length){l(e,d.length);for(var o=0;o<d.length;++o)i.bind(a(e,o),d[o])}};return i.registerBindType("simplerepeat",o,s),i.rewriteBindings=function(e,t,n){d(e,t,n)},i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=i.getState();r.eventHandlers={};var a=function(e,t){for(var i=t.simpleevent.split(","),a=0;a<i.length;++a){var d=i[a].split(":"),l=d.shift(),o=d.shift(),s=!!d.length&&d.shift().split(".");if(s)var u=s.shift(),p=s.join(".");e.addEventListener(l,function(e){if("undefined"!=typeof r.eventHandlers[o])return s&&"undefined"!=typeof r.boundObjects[u]?void r.eventHandlers[o].call(this,e,n.get(r.boundObjects[u],p)):r.eventHandlers[o].call(this,e,void 0)})}};return i.registerBindType("simpleevent",a,null),i.registerEvent=function(e,t){r.eventHandlers[e]=t},i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=simpleBind.getState(),a=function(e,t){for(var n=t.simplebindattrs.split(","),r=0;r<n.length;++r){n[r]=n[r].split(":");var a={elem:e,attr:n[r].shift()};n[r]=n[r].shift().split("."),a.objName=n[r].shift(),a.objKey=n[r].join("."),i.addToBoundElems("simplebindattrs",a.objName,a)}},d=function(e,t,i){var a=n.get(t,e.objKey),d=n.get(r.boundObjectsLast[e.objName],e.objKey);(a!=d||i)&&e.elem.setAttribute(e.attr,a)};return i.registerBindType("simplebindattrs",a,d),i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n,i){var r=(i.getState(),function(e,t){for(var n=t.simpledata.split(","),r=0;r<n.length;++r){var a=n[r].split(":"),d=a.shift();a=a.shift().split(".");var l={elem:e,objName:a.shift(),objKey:a.join("."),prop:d};i.addToBoundElems("simpledata",l.objName,l)}}),a=function(e,t){var i="data-"+e.prop.replace(/\W+/g,"-").replace(/([a-z\d])([A-Z])/g,"$1-$2");e.elem.setAttribute(i,n.get(t,e.objKey))};return i.registerBindType("simpledata",r,a),i}(window,document,simpleBind.util,simpleBind||{}),simpleBind=function(e,t,n){var i=n.getState();return i.filters={},n.getFilteredValue=function(e,t){t=t.split(",");for(var n=0;n<t.length;++n)"undefined"!=typeof i.filters[t[n]]&&(e=i.filters[t[n]](e));return e},n.registerFilter=function(e,t){"function"==typeof t&&(i.filters[e]=t)},n}(window,document,simpleBind||{});